# Section defining IKE connection configurations.
connections {
   h2h { #h2h是连接的名字
      local_addrs = 192.168.153.128
      remote_addrs =192.168.153.129 #双方的IP地址，需要根据实际情况修改
      local {
         auth = psk#选择使用的认证方式，此处认证方式为预共享密钥
         id = sun.strongswan.org
      }
      remote {
         auth = psk 
         id = moon.strongswan.org
      }
      children {
         h2h_child {
            updown = /usr/local/libexec/ipsec/_updown iptables
            rekey_time = 60#密钥更新的时间为60s
            rekey_bytes = 500000000
            rekey_packets = 1000000
            esp_proposals = aes128gcm128-x25519#esp加密算法
         }
      }
      version = 2
      mobike = no
      reauth_time = 10800
      proposals = aes128-sha256-x25519
   }
}
secrets{
    ike-h2h{
        id-sun = sun.strongswan.org
        id-moon = moon.strongswan.org 
        secret = mysecret#双方预共享的密钥，两边需要保持一致
    }
}
